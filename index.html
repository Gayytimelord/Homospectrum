<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>The Homospectrum</title>
	<style>
		body {
			background-color: #17382D;
			font-family: Arial;
			color: White;
		}

		#colourForm{
			scale: 1;
			padding-left: auto;

		}
	</style>
	</head> 
	<body> 
		<h1>
			Hey there! Welcome to... 
		</h1>
		<h1>
			...
		</h1> 
		<h1 id="titlerainbow">
			THE HOMOSPECTRUM!!!!
		</h1> 
		<h3>
			(waow)
	    </h3> 
		<br> 
		<h2>
			Your one-stop-shop to colour-based twink-bear rating!
	    </h2> 
		<h3>
			Simply have yourself or a friend rate you on each of the three axes from 0-100 (or 0-255 if you feel controlly)...
		</h3> 
		<h3>
			And it'll spit out your new <i>✨ Favourite ✨</i> colour!
		</h3>
		<h5>(addendum, the background is mine!)</h5>
		<br>
		<h2>
			Give it a whirl:	
		</h2>
		<br>
		<form id="colourForm" onsubmit="event.preventDefault();">
			<b><p>As promised- first off. Do you want to use 0-100 (less control, more intuitive) or 0-255 (vice versa)?</p></b>
			<input type="radio" value = 100 name="100255" checked>
			<label for="100">100</label><br>
			<input type="radio" value = 255 name="100255">
			<label for="255">255</label><br>
			<b><p>Now, choose your champions!</p></b>
			<label for="red">Body hair | Value:</label>
			<span id="rednum">0</span>
			<br>
			<input type="range" name="red" min="0" max="255" id="red" value="0">
			<br><br>
			<label for="green">Frame (Build) | Value:</label>
			<span id="greennum">0</span>
			<br>
			<input type="range" name="green" min="0" max="255" id="green" value="0">
			<br><br>
			<label for="blue">Personality (Sub-Dom) | Value:</label>
			<span id="bluenum">0</span>
			<br>
			<input type="range" name="blue" min="0" max="255" id="blue" value="0">
			<br><br>
			<button onclick="genColour()">Submit!</button>
	  	</form>

	<!-- Scripts here :D -->
	<script> 
	var hundo = 0

	// multicoloured text 
	setInterval(function colourswitch(){ const randomColour =
	Math.floor(Math.random()*16777215).toString
	(16); document.getElementById("titlerainbow").style.color = "#" + randomColour; },300)

	//update slider labels 
	var Rslider = document.getElementById("red");
	var Routput = document.getElementById("rednum");
	var Gslider = document.getElementById("green");
	var Goutput = document.getElementById("greennum");
	var Bslider = document.getElementById("blue");
	var Boutput = document.getElementById("bluenum");
	
	Routput.innerHTML = Rslider.value;
	Rslider.oninput = function() {
  		Routput.innerHTML = this.value;
	}
	Goutput.innerHTML = Gslider.value;
	Gslider.oninput = function() {
  		Goutput.innerHTML = this.value;
	}
	Boutput.innerHTML = Bslider.value;
	Bslider.oninput = function() {
  		Boutput.innerHTML = this.value;
	}

	//update slider maximums
	function changeslidermax() {
	    console.log("Function changeslidermax() called."); // Check if function is called
	    var selectedOption = document.querySelector('input[name="100255"]:checked').value;
	    console.log("Selected option: ", selectedOption);

	    if (selectedOption === "100") {
	    	hundo = 1
	        console.log("Updating sliders to 0-100 range.");
	        document.getElementById("red").max = 100;
	        document.getElementById("green").max = 100;
	        document.getElementById("blue").max = 100;
	    } else if (selectedOption === "255") {
	    	hundo = 0
	        console.log("Updating sliders to 0-255 range.");
	        document.getElementById("red").max = 255;
	        document.getElementById("green").max = 255;
	        document.getElementById("blue").max = 255;
	    }
	}

	var radioButtons = document.querySelectorAll('input[name="100255"]');
	radioButtons.forEach(function(radioButton) {
	    radioButton.addEventListener('change', function() {
	        changeslidermax();
	    });
	});


	//generate the colour!1

	//update slider maximums
	function genColour(){

		if (hundo === 0)
			{
			//I HATE JAVASCRIPT WHY IS THE ANSWER MULTIPLYING BY ONE WTF
			var rHex = document.getElementById("red").value * 1
		 	var rHex = rHex.toString(16).padStart(2, "0"); 
		 	var gHex = document.getElementById("green").value * 1
		 	var gHex = gHex.toString(16).padStart(2, "0"); 
		 	var bHex = document.getElementById("blue").value * 1
		 	var bHex = bHex.toString(16).padStart(2, "0");

		}
		else{
			var rHex = Math.round(document.getElementById("red").value * 2.25)
			var rHex = rHex.toString(16).padStart(2, "0");
			var gHex = Math.round(document.getElementById("green").value * 2.25)
			var gHex = gHex.toString(16).padStart(2, "0");
			var bHex = Math.round(document.getElementById("blue").value * 2.25)
			var bHex = bHex.toString(16).padStart(2, "0");
			console.log(rHex, gHex, bHex);

		}

		document.body.style.background = "#" + rHex + gHex + bHex;
		console.log("#" + rHex + gHex + bHex	)
	}
	</script> 
	</body> 
</html>